var ImageUploadModalMode,ImageUploadModal;(function(n){n._map=[],n._map[0]="Wikimedia",n.Wikimedia=0,n._map[1]="Upload",n.Upload=1})(ImageUploadModalMode||(ImageUploadModalMode={})),ImageUploadModal=function(){function n(){this._mode=ImageUploadModalMode.Wikimedia,this.InitUploader(),this.InitTypeRadios(),this.InitLicenceRadio();var n=this;$("#aSaveImage").click(function(){n.SaveImage()})}return n.prototype.InitUploader=function(){$("#fileUpload").fineUploader({uploaderType:"basic",button:$("#fileUpload")[0],request:{endpoint:$("#fileUpload").attr("data-endpoint")},multiple:!1,debug:!1,validation:{allowedExtensions:["jpeg","jpg","png"],sizeLimit:2097152}}).on("error",function(){alert("Ein Fehler ist aufgetreten")}).on("complete",function(n,t,i,r){$("#divUploadProgress").hide(),$("#previewImage").html('<b>Bildvorschau:<\/b><br/><img src="'+r.filePath+'"> '),$("#previewImage").show(),$("#divLegalInfo").show()}).on("progress",function(n,t,i){$("#previewImage").hide(),$("#divUploadProgress").show(),$("#divUploadProgress").html("'<b>"+i+"<\/b>' wird hochgeladen.")})},n.prototype.InitTypeRadios=function(){$("#rdoImageWikimedia").change(function(){$(this).is(":checked")&&($("#divUpload").hide(),$("#divWikimedia").show(),this._mode=ImageUploadModalMode.Wikimedia)}),$("#rdoImageUpload").change(function(){$(this).is(":checked")&&($("#divUpload").show(),$("#divWikimedia").hide(),this._mode=ImageUploadModalMode.Upload)})},n.prototype.InitLicenceRadio=function(){$("#rdoLicenceByUloader").change(function(){$(this).is(":checked")&&($("#divLicenceUploader").show(),$("#divLicenceForeign").hide())}),$("#rdoLicenceForeign").change(function(){$(this).is(":checked")&&($("#divLicenceUploader").hide(),$("#divLicenceForeign").show())})},n.prototype.SaveImage=function(){if((this._mode=ImageUploadModalMode.Wikimedia)&&alert("save wikimedia"),this._mode=ImageUploadModalMode.Upload){if($("#rdoLicenceForeign").is(":checked")&&alert("Bitte wählen Sie eine andere Lizenz. Wir bitten Dich das Bild auf Wikimedia hochzuladen und so einzubinden."),$("#rdoLicenceByUloader").is(":checked")){var n=$("#txtLicenceOwner").val();n.trim()==""&&alert("Bitte gib Deinen Namen als Lizenzgeber an.")}alert("save upload")}},n}(),$(function(){var n=new ImageUploadModal})